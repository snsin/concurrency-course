# Задание 2. Практика: захват блокировки #

Метод updateRegistry читает данные из файла и обновляет на их основе объект
[Registry](./Registry.java) (моя реализация добавлены `main()` и распечатка содержимого файла):

Вопросы:

1. Какая ошибка возможна в этом коде?
2. Что происходит в случае ошибки с точки зрения многопоточности?

#### Ответы ####
1. Возможна ситуация, когда метод `lock()` не будет вызван вообще, но при этом будет вызван `unlock()`,
   в случае, если не удастся открыть файл на чтение. В результате будет выброшено исключение 
   `IllegalMonitorStateException()` 
2. В случае ошибки происходит попытка освободить незахваченную блокировку. Т.е. в данном случае
   в коде реализован неправильный захват блокировки. Правильно было бы захватывать её до блока `try`